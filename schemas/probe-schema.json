{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": ["object", "null"],
  "description": "Probe describes a health check to be performed against a container to determine whether it is alive or ready to receive traffic",
  "properties": {
    "exec": {
      "type": ["object", "null"],
      "description": "Exec specifies a command to execute in the container",
      "properties": {
        "command": {
          "type": "array",
          "description": "Command is the command line to execute inside the container",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "httpGet": {
      "type": ["object", "null"],
      "description": "HTTPGet specifies an HTTP GET request to perform",
      "properties": {
        "host": {
          "type": "string",
          "description": "Host name to connect to, defaults to the pod IP"
        },
        "httpHeaders": {
          "type": "array",
          "description": "Custom headers to set in the request",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "The header field name"
              },
              "value": {
                "type": "string",
                "description": "The header field value"
              }
            },
            "required": ["name", "value"]
          }
        },
        "path": {
          "type": "string",
          "description": "Path to access on the HTTP server"
        },
        "port": {
          "description": "Name or number of the port to access on the container"
        },
        "scheme": {
          "type": "string",
          "description": "Scheme to use for connecting to the host. Defaults to HTTP"
        }
      },
      "required": ["port"]
    },
    "tcpSocket": {
      "type": ["object", "null"],
      "description": "TCPSocket specifies a connection to a TCP port",
      "properties": {
        "host": {
          "type": "string",
          "description": "Optional: Host name to connect to, defaults to the pod IP"
        },
        "port": {
          "description": "Number or name of the port to access on the container"
        }
      },
      "required": ["port"]
    },
    "grpc": {
      "type": ["object", "null"],
      "description": "GRPC specifies a GRPC HealthCheckRequest",
      "properties": {
        "port": {
          "type": "integer",
          "description": "Port number of the gRPC service"
        },
        "service": {
          "type": "string",
          "description": "Service is the name of the service to place in the gRPC HealthCheckRequest"
        }
      },
      "required": ["port"]
    },
    "initialDelaySeconds": {
      "type": "integer",
      "description": "Number of seconds after the container has started before liveness probes are initiated"
    },
    "timeoutSeconds": {
      "type": "integer",
      "description": "Number of seconds after which the probe times out. Defaults to 1 second. Minimum value is 1"
    },
    "periodSeconds": {
      "type": "integer",
      "description": "How often (in seconds) to perform the probe. Default to 10 seconds. Minimum value is 1"
    },
    "successThreshold": {
      "type": "integer",
      "description": "Minimum consecutive successes for the probe to be considered successful after having failed. Defaults to 1. Must be 1 for liveness and startup. Minimum value is 1"
    },
    "failureThreshold": {
      "type": "integer",
      "description": "Minimum consecutive failures for the probe to be considered failed after having succeeded. Defaults to 3. Minimum value is 1"
    },
    "terminationGracePeriodSeconds": {
      "type": "integer",
      "description": "Optional duration in seconds the pod needs to terminate gracefully upon probe failure"
    }
  }
}
